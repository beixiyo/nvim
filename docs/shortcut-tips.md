# 常用快捷键技巧

> 面向日常使用的快捷键速查与技巧，基于本配置的键位。更多键位定义说明见 [keymap-guide.md](keymap-guide.md)，文本对象见 [text-object.md](text-object.md)

---

## 1. 前置：Leader 键

本配置 **Leader 键为空格 `Space`**。很多快捷键是「先按空格，再按一两个键」，例如：

- `<Space>-` 横向分屏
- `<Space>|` 纵向分屏
- `<Space>wd` 关闭当前窗口

按一下空格后稍停，若启用了 which-key 会提示该前缀下所有可用快捷键

---

## 2. 模式与退出

| 操作           | 快捷键     | 说明 |
|----------------|------------|------|
| 退出插入模式   | `jk`       | 插入模式下输入 `jk` 等价于 Esc，手不用离开主键盘区 |
| 智能 Esc       | `Esc`      | 普通模式下：先关闭所有浮窗（补全、菜单等），若无浮窗则清除搜索高亮 |

---

## 3. 窗口与分屏

| 操作           | 快捷键           | 说明 |
|----------------|------------------|------|
| 切换窗口焦点   | `Ctrl+h/j/k/l`   | 左/下/上/右窗口，终端内同样可用（会先退出终端模式再切换） |
| 横向分屏       | `<Space>-`       | 当前窗口下方新开一屏 |
| 纵向分屏       | `<Space>\|`      | 当前窗口右侧新开一屏 |
| 关闭当前窗口   | `<Space>wd`      | 关闭当前分屏，不关 buffer |

**技巧**：分屏后习惯用 `Ctrl+hjkl` 在窗口间跳转，比用鼠标或多次 `Ctrl+w w` 更高效

---

## 4. 行与编辑

| 操作               | 快捷键       | 说明 |
|--------------------|--------------|------|
| 上/下移动当前行    | `Alt+j` / `Alt+k` | 普通模式下移动当前行，可重复按 |
| 上/下移动选中行    | 可视模式下 `Alt+j` / `Alt+k` | 多行选中后整体上移/下移 |
| 缩进/反缩进选中块  | `Tab` / `Shift+Tab` | 在可视模式下，保持选中并缩进 |
| 删除/修改不占剪贴板 | `d` / `c` / `x` | 删除或修改内容进入“黑洞”寄存器，不会覆盖系统剪贴板；要复制到剪贴板用 `y` 或下面一条 |

**技巧**：需要“删掉这段并粘贴到别处”时，用 `y` 复制后再 `d` 删除，或先 `d` 再到目标处用 `"0p` 从复制寄存器粘贴

---

## 5. 剪贴板

| 操作               | 快捷键     | 说明 |
|--------------------|------------|------|
| 复制到系统剪贴板   | 可视模式下 `Ctrl+c` | 选中后按，可与终端、浏览器等互通；SSH 时本机复制多为 `Ctrl+Shift+C` |

从系统剪贴板粘贴仍用 Vim 默认：`"+p`（普通模式）或 `"+P`（在光标前粘贴）

---

## 6. 导航

| 操作               | 快捷键           | 说明 |
|--------------------|------------------|------|
| 上一/下一光标位置  | `Alt+Left` / `Alt+Right` | 类似“前进/后退”，跳转历史 |
| 向下/上滚动 5 行   | `Ctrl+e` / `Ctrl+y`     | 本配置改为每次 5 行，便于细调视图 |
| 跳到第 N 行        | `Ngg` 或 `NG` 或 `:N`   | 如 `100gg` 或 `:100` 到第 100 行 |
| 跳到文件头/尾      | `gg` / `G`              | 第一行 / 最后一行 |

**行内导航（Vim 内置）：**

- `0` 行首第一个字符，`^` 行首非空白
- `$` 行尾
- `w` 下一词首，`b` 上一词首，`e` 当前/下一词尾
- `f<char>` / `F<char>` 本行下一/上一处字符，`;` / `,` 重复/反向

---

## 7. 保存

| 操作           | 快捷键         | 说明 |
|----------------|----------------|------|
| 保存当前文件   | `:w` 或配置中的 `<C-s>` | 仅当前 buffer |
| 保存所有缓冲区 | `Ctrl+Alt+S`   | 所有已修改 buffer 写入磁盘；部分终端对 Ctrl+Alt 支持不好，可改用 `:wa` |

---

## 8. 通用 Vim 技巧速记

- **数字前缀**：`5j` 下移 5 行，`3dd` 删 3 行，`2yy` 复制 2 行
- **组合操作**：`daw` 删当前单词，`ci"` 修改引号内内容，`vi(` 选括号内（详见 [text-object.md](text-object.md)）
- **重复**：`.` 重复上一次修改，`@:` 重复上一次 Ex 命令
- **查键位**：`:nmap <Space>` 看 Leader 下有哪些映射，`:verbose nmap 键位` 看该键位由谁定义

---

## 9. 与本配置其它文档的关系

| 文档 | 内容 |
|------|------|
| [keymap-guide.md](keymap-guide.md) | 如何定义、调试键位（开发者向） |
| [text-object.md](text-object.md) | 文本对象选择与扩展（`iw`、`i"`、`ip` 等） |
| 本文 | 日常使用中最常用的快捷键与技巧 |

插件提供的键位（如 LSP、文件树、模糊查找等）多在各自插件配置或 `:help` 中说明，按一次 `<Space>` 也可快速浏览当前前缀下的映射
